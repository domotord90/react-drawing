{"version":3,"sources":["App.js","index.js"],"names":["App","canvasRef","useRef","useState","x","y","mouse","setMouse","isPainting","setIsPainting","color","setColor","lineWidth","setLineWidth","isEraserOn","setIsEraserOn","startPaint","useCallback","e","coordinates","getCoordinates","useEffect","document","title","current","canvas","addEventListener","removeEventListener","drawLine","originalMouse","newMouse","context","getContext","strokeStyle","lineJoin","beginPath","moveTo","lineTo","closePath","stroke","paint","exitPaint","rect","getBoundingClientRect","clientX","left","right","width","clientY","top","bottom","height","className","style","backgroundColor","onChange","target","value","type","console","log","parseInt","icon","faEraser","onClick","faTrashAlt","clearRect","link","createElement","download","href","toDataURL","click","faSave","ref","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.70f48eab.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from \"react\";\r\n\r\nimport \"./App.css\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faEraser,\r\n  faTrashAlt,\r\n  faSave\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst App = () => {\r\n  const canvasRef = useRef(null);\r\n  const [mouse, setMouse] = useState({ x: 0, y: 0 });\r\n  const [isPainting, setIsPainting] = useState(false);\r\n  const [color, setColor] = useState(\"#000000\");\r\n  const [lineWidth, setLineWidth] = useState(5);\r\n  const [isEraserOn, setIsEraserOn] = useState(false);\r\n\r\n  const startPaint = useCallback(e => {\r\n    const coordinates = getCoordinates(e);\r\n    if (coordinates) {\r\n      setIsPainting(true);\r\n      setMouse(coordinates);\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    document.title = \"React Drawing\";\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!canvasRef.current) {\r\n      return;\r\n    }\r\n    const canvas = canvasRef.current;\r\n\r\n    canvas.addEventListener(\"mousedown\", startPaint);\r\n    return () => {\r\n      canvas.removeEventListener(\"mousedown\", startPaint);\r\n    };\r\n  }, [startPaint]);\r\n\r\n  const drawLine = (originalMouse, newMouse) => {\r\n    if (!canvasRef.current) {\r\n      return;\r\n    }\r\n    const canvas = canvasRef.current;\r\n    const context = canvas.getContext(\"2d\");\r\n    if (context) {\r\n      context.strokeStyle = color;\r\n      context.lineJoin = \"round\";\r\n      context.lineWidth = lineWidth;\r\n\r\n      context.beginPath();\r\n      context.moveTo(originalMouse.x, originalMouse.y);\r\n      context.lineTo(newMouse.x, newMouse.y);\r\n      context.closePath();\r\n\r\n      context.stroke();\r\n    }\r\n  };\r\n\r\n  const paint = useCallback(\r\n    e => {\r\n      if (isPainting) {\r\n        const newMouse = getCoordinates(e);\r\n        if (mouse && newMouse) {\r\n          drawLine(mouse, newMouse);\r\n          setMouse(newMouse);\r\n        }\r\n      }\r\n    },\r\n    [isPainting, mouse, drawLine]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!canvasRef.current) {\r\n      return;\r\n    }\r\n    const canvas = canvasRef.current;\r\n    canvas.addEventListener(\"mousemove\", paint);\r\n    return () => {\r\n      canvas.removeEventListener(\"mousemove\", paint);\r\n    };\r\n  }, [paint]);\r\n\r\n  const exitPaint = useCallback(() => {\r\n    setIsPainting(false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!canvasRef.current) {\r\n      return;\r\n    }\r\n    const canvas = canvasRef.current;\r\n    canvas.addEventListener(\"mouseup\", exitPaint);\r\n    canvas.addEventListener(\"mouseleave\", exitPaint);\r\n    return () => {\r\n      canvas.removeEventListener(\"mouseup\", exitPaint);\r\n      canvas.removeEventListener(\"mouseleave\", exitPaint);\r\n    };\r\n  }, [exitPaint]);\r\n\r\n  const getCoordinates = e => {\r\n    if (!canvasRef.current) {\r\n      return;\r\n    }\r\n\r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    return {\r\n      x: ((e.clientX - rect.left) / (rect.right - rect.left)) * canvas.width,\r\n      y: ((e.clientY - rect.top) / (rect.bottom - rect.top)) * canvas.height\r\n    };\r\n  };\r\n\r\n  const colorOnChange = e => {\r\n    if (isEraserOn) {\r\n      setIsEraserOn(false);\r\n    }\r\n    setColor(e.target.value);\r\n  };\r\n\r\n  const lineWidthOnChange = e => {\r\n    const { value } = e.target;\r\n    console.log(value);\r\n    setLineWidth(parseInt(value, 10));\r\n  };\r\n\r\n  const eraserOnClick = () => {\r\n    setColor(\"#ffffff\");\r\n    setIsEraserOn(true);\r\n  };\r\n\r\n  const clearOnClick = () => {\r\n    const context = canvasRef.current.getContext(\"2d\");\r\n\r\n    context.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\r\n  };\r\n\r\n  const saveAsImageOnClick = () => {\r\n    const link = document.createElement(\"a\");\r\n    link.download = \"image.jpeg\";\r\n    link.href = canvasRef.current.toDataURL();\r\n    link.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      <div className=\"tools\">\r\n        <label\r\n          style={{ backgroundColor: color }}\r\n          className=\"color-picker-label\"\r\n        >\r\n          <input\r\n            className=\"color-picker\"\r\n            onChange={colorOnChange}\r\n            type=\"color\"\r\n            value={color}\r\n          />\r\n        </label>\r\n        <div className=\"stroke-width-container\">\r\n          <label>Stroke</label>\r\n          <select\r\n            className=\"stroke-width\"\r\n            onChange={lineWidthOnChange}\r\n            value={lineWidth}\r\n          >\r\n            <option value={1}>1</option>\r\n            <option value={5}>5</option>\r\n            <option value={10}>10</option>\r\n            <option value={20}>20</option>\r\n          </select>\r\n        </div>\r\n        <FontAwesomeIcon\r\n          icon={faEraser}\r\n          onClick={eraserOnClick}\r\n          className=\"eraser-button\"\r\n        />\r\n        <FontAwesomeIcon\r\n          icon={faTrashAlt}\r\n          onClick={clearOnClick}\r\n          className=\"clear\"\r\n        />\r\n        <FontAwesomeIcon\r\n          className=\"save\"\r\n          onClick={saveAsImageOnClick}\r\n          icon={faSave}\r\n        />\r\n      </div>\r\n      <canvas\r\n        className={`canvas ${isEraserOn ? \"eraser\" : \"pencil\"}`}\r\n        ref={canvasRef}\r\n        width={\"1920px\"}\r\n        height={\"1080px\"}\r\n      ></canvas>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\n\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}